<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Sameer Enterprises Quotation</title>

<style>
* {
  box-sizing: border-box;
}

body {
  font-family: Arial;
  background: #f4f4f4;
  padding: 10px;
  margin: 0;
}

.container {
  background: white;
  padding: 15px;
  border-radius: 8px;
  max-width: 1000px;
  margin: auto;
}

h1 {
  text-align: center;
  color: #003366;
  font-size: 22px;
  margin-bottom: 10px;
}

#inputBox {
  width: 100%;
  padding: 12px;
  font-size: 16px;
}

/* TABLE WRAPPER FOR MOBILE SCROLL */
.table-wrapper {
  width: 100%;
  overflow-x: auto;
  margin-top: 10px;
}

/* TABLE */
table {
  width: 100%;
  border-collapse: collapse;
  min-width: 600px; /* allows scroll instead of squishing */
}

th, td {
  border: 1px solid #ccc;
  padding: 8px;
  text-align: center;
  font-size: 14px;
}

th {
  background: #e9eef5;
  position: sticky;
  top: 0;
}

button {
  padding: 12px 16px;
  margin-top: 10px;
  cursor: pointer;
  font-size: 16px;
  width: 100%;
}

/* Suggestions dropdown */
#suggestions {
  position: relative;
}

#suggestionList {
  list-style: none;
  margin: 0;
  padding: 0;
  background: white;
  border: 1px solid #ccc;
  max-height: 200px;
  overflow-y: auto;
  position: absolute;
  width: 100%;
  z-index: 1000;
}

#suggestionList li {
  padding: 10px;
  cursor: pointer;
}

#suggestionList li:hover {
  background: #f0f0f0;
}

/* üì± MOBILE OPTIMIZATION */
@media (max-width: 600px) {

  .container {
    padding: 10px;
  }

  h1 {
    font-size: 18px;
  }

  #inputBox {
    font-size: 14px;
    padding: 10px;
  }

  th, td {
    font-size: 12px;
    padding: 6px;
  }

  button {
    font-size: 14px;
    padding: 10px;
  }
}
</style>

</head>

<body>

<div class="container">

<h1>Quotation Builder</h1>

<div id="suggestions">
<input id="inputBox" placeholder="Enter product key and rate (example: bo 65)" autofocus>
<ul id="suggestionList"></ul>
</div>

<div class="table-wrapper">
<table>
<thead>
<tr>
<th>Particulars</th>
<th>Unit Price</th>
<th>Unit</th>
<th>GST %</th>
<th>Price Incl GST</th>
<th>Remove</th>
</tr>
</thead>

<tbody id="tableBody"></tbody>
</table>
</div>

<button onclick="generatePDF()">Generate PDF</button>

</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>

<script>

// ‚úÖ PRODUCT DICTIONARY (you can paste your full one)
    const products = {
      "b": ["Gypblock Board 6'x4'x12.5mm", "nos", 330, 18, 0],
      "gb": ["Gyproc Board 6'x4'x12.5mm", "nos", 430, 18, 0],
      "hb648": ["Hilux Board 6'x4x'8mm", "nos", 750, 18, 0],
      "hb8410": ["Hilux Board 8'x4'x10mm", "nos", 1280, 18, 0],
      "hb8412": ["Hilux Board 8'x4'x12mm", "nos", 1540, 18, 0],
      "gmr": ["Gyproc MR Board 6'x4'x12.5mm", "nos", 870, 18, 0],
      "gfr": ["Gyproc FR Board 6'x4'x12.5mm", "nos", 850, 18, 0],
      "e646": ["Everest Board 6'x4'x6mm", "nos", 450, 18, 0],
      "e648": ["Everest Board 6'x4'x8mm", "nos", 550, 18, 0],
      "e6412": ["Everest Board 6'x4'x8mm", "nos", 850, 18, 0],
      "e8412": ["Everest Board 8'x4'x12mm", "nos", 1720, 18, 0],
      "pops": ["POP Sheet 2'x3'x10mm", "nos", 65, 18, 0],
    
      "pa": ["GI Patti 8'", "nos", 70, 18, 0],
      "mpa": ["Magnic Ceiling Section 2440mm", "nos", 105, 18, 0],
      "xpa": ["Xpert Ceiling Section 2440mm", "nos", 130, 18, 0],
      "mgpa": ["Megastil Ceiling Section 3660mm", "nos", 310, 18, 0],
      "gpa": ["Gypserra Ceiling Section 3660mm", "nos", 430, 18, 0],
    
      "bo": ["GI Bottom 8'", "nos", 70, 18, 0],
      "mbo": ["Magnic Intermediate 2440mm", "nos", 105, 18, 0],
      "xbo": ["Xpert Intermediate 2440mm", "nos", 130, 18, 0],
      "mgbo": ["Megastil Intermediate 3660mm", "nos", 310, 18, 0],
      "gbo": ["Gypserra Intermediate 3660mm", "nos", 430, 18, 0],
    
      "pe": ["GI Perimeter 8'", "nos", 45, 18, 0],
      "mpe": ["Magnic Perimeter 2440mm", "nos", 60, 18, 0],
      "xpe": ["Xpert Perimeter 2440mm", "nos", 95, 18, 0],
      "mgpe": ["Megastil Perimeter 3660mm", "nos", 195, 18, 0],
      "gpe": ["Gypserra Perimeter 3660mm", "nos", 280, 18, 0],
    
      "al": ["GI Al 8'", "nos", 25, 18, 0],
      "mal": ["Magnic Ceiling Angle 2440mm", "nos", 40, 18, 0],
      "xal": ["Xpert Ceiling Angle 2440mm", "nos", 50, 18, 0],
      "mgal": ["Megastil Ceiling Angle 3660mm", "nos", 95, 18, 0],
      "gal": ["Gypserra Ceiling Angle 3660mm", "nos", 150, 18, 0],
    
      "fl12": ["GI Floor Channel 12'", "nos", 130, 18, 0],
      "fl10": ["GI Floor Channel 10'", "nos", 115, 18, 0],
      "xfl": ["Xpert Floor Channel 12'", "nos", 260, 18, 0],
    
      "st12": ["GI Stud Channel 12'", "nos", 160, 18, 0],
      "st10": ["GI Stud Channel 10'", "nos", 130, 18, 0],
      "xst": ["Xpert Stud Channel 12'", "nos", 270, 18, 0],
    
      "gp": ["Gypsum Plaster", "bg", 200, 5, 160],
      "jc": ["Gyproc Easi Fill 90", "bg", 550, 18, 0],
      "xgp25": ["Gyproc Xpert Plaster 25KG", "bg", 300, 5, 0],
      "xgp20": ["Gyproc Xpert Plaster 20KG", "bg", 240, 5, 0],
      "e25": ["Gyproc Elite 100 - 25kg", "bg", 340, 5, 0],
      "emr25": ["Gyproc Elite MR - 25kg", "bg", 380, 5, 0],
      "rm10": ["Readymix 10kg", "bkt", 250, 18, 0],
    
      "ft": ["Fiber Tape", "roll", 100, 18, 51],
      "gft": ["Gyproc Fiber Tape", "roll", 230, 18, 0],
      "gpt": ["Gyproc Paper Tape", "roll", 230, 18, 0],
    
      "ds": ["Drywall Screw 25mm", "box", 200, 18, 106],
      "ds1.5": ["Drywall Screw 35mm", "box", 200, 18, 110],
      "gds": ["Gyproc Drywall Screw 25mm", "box", 600, 18, 0],
      "gds1.5": ["Gyproc Drywall Screw 38mm", "box", 380, 18, 0],
      "gds2": ["Gyproc Drywall Screw 50mm", "box", 550, 18, 0],
      "mtm500": ["Metal to Metal Screw 8x13 (500/box)", "box", 300, 18, 170],
      "mtm300": ["Metal to Metal Screw 8x13 (300/box)", "box", 190, 18, 0],
      "gmtm": ["Gyporc Metal to Metal Screw 4.2x13", "box", 520, 18, 0],
      "gbc": ["Gyproc Butterfly Clip", "nos", 14, 18, 0],
      "grp": ["Gyproc Rawl Plug (100 nos/box)", "box", 1100, 18, 0],
      "rp": ["Rawl Plug (100 nos/pkt)","pkt", 300, 18, 140],
      "fsnr": ["Fasterner", "pkt", 200, 18, 140],
    
      "cc": ["Connecting Clip", "pkt", 180, 18, 118.5],
      "gcc": ["Gyproc Connecting Clip", "pkt", 640, 18, 0],
      "sc": ["Soffit Cleate", "nos", 200, 18, 0],
      "gsc": ["Gyproc Soffit Cleate", "pkt", 270, 18, 0],
      "gphs": ["Gyproc Panhead Screw", "pkt", 1250, 18, 0],
    
      "gsd": ["Gyproc Sadoline Section 8'", "nos", 160, 18, 0],
      "gab": ["Gyproc Angle Bead 8'", "nos", 160, 18, 0],
    
      "gbd": ["Gyproc Bondit", "kg", 160, 18, 0],
      "ggp": ["Gyproc Gyplaster", "kg", 120, 18, 0],
      "dcbd": ["DC Bond", "kg", 100, 18, 0],
    
      "mt": ["Main Tee 3000x24mm", "nos", 95, 18, 72],
      "mmt": ["Maxtra Main Tee", "nos", 0, 18, 0],
    
      "ct2": ["Cross Tee 600x24mm", "nos", 20, 18, 14],
      "mct2": ["Maxtra Cross Tee 2ft", "nos", 28, 18, 0],
    
      "ct4": ["Cross Tee 1200x24mm", "nos", 40, 18, 28],
      "mct4": ["Maxtra Cross Tee 4ft", "nos", 56, 18, 0],
    
      "wal": ["Wall Angle 3000x24mm", "nos", 80, 18, 60],
      "mwal": ["Maxtra Wall Angle", "nos", 100, 18, 0],
    
      "td300": ["Trap Door 300x300", "nos", 1650, 18, 1250],
      "td450": ["Trap Door 450x450", "nos", 2000, 18, 1500],
      "td600": ["Trap Door 600x600", "nos", 2200, 18, 1700],
    
      "gw12": ["Glasswool 12x50", "nos", 3200, 18, 0],
      "gw16": ["Glasswool 16x50", "nos", 3400, 18, 0],
      "gw24": ["Glasswool 24x50", "nos", 4800, 18, 0],
    
      "gddt": ["Gyprex Dew Drop Tiles (10 nos/box)", "nos", 100, 18, 0],
      "ggt": ["Gyprex Granular Tiles (10 nos/box)", "nos", 100, 18, 0],
      "lpht": ["Laban Tiles (14 nos/box)", "nos", 125, 18, 0],
      "et": ["Everest Tiles (10 nos/box)", "nos", 100, 18, 0],
    
      "t": ["Transport", "", 250, 18, 0],
      "tkw": ["Transport (Kanjurmarg West)", "", 400, 18, 0],
      "tke": ["Transport (Kanjurmarg East)", "", 300, 18, 0],
      "tps": ["Transport (Park Side)", "", 300, 18, 0],
      "tg": ["Transport (Ghatkopar)", "", 350, 18, 0],
      "tpo": ["Transport (Powai Heeranandani)", "", 400, 18, 0],
      
      "l": ["Loading", "", 0, 18, 0],
      "u": ["Unloading", "", 0, 18, 0],
      "lu": ["Loading & Unloading", "", 0, 18, 0],
      "d": ["Discount", "", 0, 0, 0],
    
      "cgst": ["CGST", "", 0, 0, 0],
      "sgst": ["SGST", "", 0, 0, 0],
      "igst": ["IGST", "", 0, 0, 0],
      "roff": ["Round Off", "", 0, 0, 0],
    };


const inputBox = document.getElementById("inputBox");
const suggestionList = document.getElementById("suggestionList");

// ENTER ‚Üí add product
inputBox.addEventListener("keydown", e => {
  if (e.key === "Enter") addProduct();
});

// Suggestions
inputBox.addEventListener("input", () => {
  const query = inputBox.value.trim().toLowerCase();
  suggestionList.innerHTML = "";

  if (!query) return;

  const matches = Object.entries(products)
    .filter(([code, [name]]) =>
      code.includes(query) || name.toLowerCase().includes(query)
    )
    .slice(0, 10);

  matches.forEach(([code, [name, unit, price]]) => {
    const li = document.createElement("li");
    li.textContent = `${code} ‚Äî ${name} (‚Çπ${price})`;

    li.onclick = () => {
      inputBox.value = code + " ";
      suggestionList.innerHTML = "";
      inputBox.focus();
    };

    suggestionList.appendChild(li);
  });
});

// Hide suggestions when clicking outside
document.addEventListener("click", e => {
  if (!document.getElementById("suggestions").contains(e.target)) {
    suggestionList.innerHTML = "";
  }
});

function addProduct() {

  const input = inputBox.value.trim();
  if (!input) return;

  const [code, rateStr] = input.split(" ");

  if (!products[code]) {
    alert("Invalid product key");
    return;
  }

  const [name, unit, defaultRate, gst] = products[code];
  const rate = parseFloat(rateStr) || defaultRate;
  const priceGST = rate + (rate * gst / 100);

  const row = document.createElement("tr");

  row.innerHTML = `
    <td>${name}</td>
    <td>${rate.toFixed(2)}</td>
    <td>${unit}</td>
    <td>${gst}%</td>
    <td>${priceGST.toFixed(2)}</td>
    <td><button onclick="this.closest('tr').remove()">‚ùå</button></td>
  `;

  document.getElementById("tableBody").appendChild(row);

  inputBox.value = "";
  suggestionList.innerHTML = "";
  inputBox.focus();
}

async function generatePDF() {

  const { jsPDF } = window.jspdf;
  const doc = new jsPDF();

  // Header
  doc.setFontSize(20);
  doc.setTextColor(0, 51, 102);
  doc.text("Sameer Enterprises", 105, 15, { align: "center" });

  doc.setFontSize(14);
  doc.setTextColor(0);
  doc.text("Quotation", 105, 25, { align: "center" });

  doc.setFontSize(10);
  doc.text(`Date: ${new Date().toLocaleDateString("en-GB")}`, 15, 30);

  let y = 40;

  // Table header
  doc.setFillColor(230, 230, 250);
  doc.rect(10, y - 6, 190, 8, "F");

  doc.text("Particulars", 12, y);
  doc.text("Unit Price", 90, y);
  doc.text("Unit", 125, y);
  doc.text("GST", 150, y);
  doc.text("Incl GST", 170, y);

  y += 8;

  // Table body
  document.querySelectorAll("#tableBody tr").forEach((row, i) => {

    if (i % 2 === 1) {
      doc.setFillColor(245, 245, 245);
      doc.rect(10, y - 6, 190, 8, "F");
    }

    const cells = row.children;

    doc.text(cells[0].textContent, 12, y);
    doc.text(cells[1].textContent, 90, y);
    doc.text(cells[2].textContent, 125, y);
    doc.text(cells[3].textContent, 150, y);
    doc.text(cells[4].textContent, 170, y);

    y += 8;
  });

  doc.save("quotation.pdf");
}

</script>

</body>
</html>
